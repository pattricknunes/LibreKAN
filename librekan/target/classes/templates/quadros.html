<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Manrope%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"/>
    <title>LibreKan</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
  function criarQuadro() {
        const nome = prompt("Digite o nome do quadro:");
        
        if (nome) {
            const id = Date.now();

            const quadro = document.createElement('div');
            quadro.className = "cursor-pointer bg-blue-200 hover:bg-blue-300 p-4 rounded-xl shadow-md m-2 w-48 text-center";
            quadro.innerText = nome;

            quadro.onclick = () => {
                window.location.href = `/quadros/${id}`; 
            };

            document.getElementById('quadrosContainer').appendChild(quadro);

            const form = document.createElement('form');
            form.method = 'POST';
            form.action = '/quadros';
            
            const inputNome = document.createElement('input');
            inputNome.type = 'hidden';
            inputNome.name = 'nome';
            inputNome.value = nome;

            form.appendChild(inputNome);
            document.body.appendChild(form);
            form.submit();
        }
    }


        function criarQuadro() {
            let nome = prompt("Digite o nome do novo quadro:");
            if (nome) {
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = '/quadros';
                
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'nome';
                input.value = nome;
                
                form.appendChild(input);
                document.body.appendChild(form);
                form.submit();
            }
        }

        
    </script>
  </head>
  <body>
    <div class="relative flex size-full min-h-screen flex-col bg-slate-100 group/design-root overflow-x-hidden"
      style='font-family: Manrope, "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <div th:replace="fragments :: header"></div>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <p class="text-[#0e1b10] tracking-light text-[32px] font-bold leading-tight min-w-72">Meus Quadros</p>
              <button onclick="criarQuadro()"
                class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-8 px-4 bg-blue-500 hover:bg-blue-600 shadow-sm text-[#0e1b10] text-sm shadow-md font-medium leading-normal">
                <span class="truncate text-slate-100">Criar Novo Quadro</span>
              </button>
            </div>
            <div id="quadrosContainer" class="grid grid-cols-3 gap-3 p-4">
              <div th:each="quadro : ${quadros}">
                <div class="flex flex-col gap-3 pb-3 hover:scale-[104%]">
                  <div
                    class="quadro flex flex-row justify-center w-full h-[128px] bg-center bg-slate-200 border border-[2px] border-solid border-slate-300 hover:border-blue-600 shadow-md rounded-md cursor-pointer"
                    th:onclick="'window.location.href=\'/quadros/' + ${quadro.id} + '\';'">
                    <div
                      class="flex rounded-t-md rounded-b-[0px] shadow-md bg-blue-600 w-full justify-center h-[24px] relative">
                      <p th:text="${quadro.nome}" class="text-slate-200">Nome do Quadro</p>
                      <form th:action="@{/quadros/excluir}" method="post" class="absolute right-2 top-0">
                        <input type="hidden" name="id" th:value="${quadro.id}" />
                        <button type="submit" class="text-white font-bold hover:text-red-600 h-[28px]">&times;</button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div th:replace="fragments :: footer"></div>
    </div>
  </body>
  </html>
